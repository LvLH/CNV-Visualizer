<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <script src="https://d3js.org/d3.v3.min.js"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <!-- jQuery UI CSS -->
    <link rel="stylesheet" type="text/css"
          href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.2/themes/smoothness/jquery-ui.css"/>

    <!-- Font Awesome CSS -->
    <link rel="stylesheet" type="text/css"
          href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css"/>

    <!-- IGV CSS -->
    <link rel="stylesheet" type="text/css" href="https://igv.org/web/test/multilocus/igv-multilocus.css">

    <!-- bam.css n - for demo only, NOT REQUIRED FOR IGV -->
    <link rel="stylesheet" type="text/css" href="css/bam.css">

    <!-- jQuery JS -->
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script type="text/javascript"
            src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.2/jquery-ui.min.js"></script>

    <!-- IGV JS-->
    <script type="text/javascript" src="https://igv.org/web/test/multilocus/igv-multilocus.js"></script>
  </head>
  <body>
    <input type="text" id='start' placeholder="enter start range"></input>
    <input type="text" id='end' placeholder="enter end range"></input>
    <input type="button" name="submit" value="submit" onclick="drawLogRatios()">
    <div id="plotly-ratios"></div>
    <script src="LogRatioPlotly.js"></script>

    <input type="text" id='start2' placeholder="enter start range"></input>
    <input type="text" id='end2' placeholder="enter end range"></input>
    <input type="button" name="submit2" value="submit" onclick="d3DrawLogRatios()">
    <div id="ratios-load"></div>
    <script src="LogRatioPlot.js"></script>

   <h1>Upload new File</h1>
   <form action="http://nabavilab.uconn.edu/cnvvis/upload" method=POST enctype=multipart/form-data>
   <p><input type=file name=cnv>
   <input type=submit value=Upload>
   </form>

   <div id="igv-test" class="container-fluid"></div>

   <script type="text/javascript">
    $(document).ready(function () {
        var div = $("#igv-test")[0],
                options = {
                    showNavigation: true,
                    showRuler: true,
                    genome: "hg19",
                    locus: "chr8:128,747,267-128,754,546",
                    tracks: [
                        {
                            name: "Genes",
                            type: "annotation",
                            format: "bed",
                            sourceType: "file",
                            url: "https://s3.amazonaws.com/igv.broadinstitute.org/annotations/hg19/genes/refGene.hg19.bed.gz",
                            indexURL: "https://s3.amazonaws.com/igv.broadinstitute.org/annotations/hg19/genes/refGene.hg19.bed.gz.tbi",
                            order: Number.MAX_VALUE,
                            visibilityWindow: 300000000,
                            displayMode: "EXPANDED"
                        }, {
                            url: 'http://nabavilab.uconn.edu/cnvvis/uploads/control.bam',
                            name: 'bam'
                        }
                    ]
                };
            igv.createBrowser(div, options);
        });
      </script>
  </body>
</html>
